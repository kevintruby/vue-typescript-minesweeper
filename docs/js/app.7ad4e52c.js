(function(e){function t(t){for(var n,o,l=t[0],s=t[1],c=t[2],g=0,d=[];g<l.length;g++)o=l[g],r[o]&&d.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,l=1;l<i.length;l++){var s=i[l];0!==r[s]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},r={app:0},a=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/vue-typescript-minesweeper/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"21bb":function(e,t,i){"use strict";var n=i("bcc9"),r=i.n(n);r.a},"5c0b":function(e,t,i){"use strict";var n=i("5e27"),r=i.n(n);r.a},"5e27":function(e,t,i){},"914b":function(e,t,i){},bcc9:function(e,t,i){},cd49:function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("a026"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},a=[],o=(i("5c0b"),i("2877")),l={},s=Object(o["a"])(l,r,a,!1,null,null,null),c=s.exports,u=i("8c4f"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home minefield"},[n("img",{attrs:{alt:"Vue logo",src:i("cf05")}}),n("div",{staticClass:"container"},[e._l(e.grid,function(t,i){return n("div",{key:i,staticClass:"row"},e._l(t,function(e,t){return n("div",{key:t,staticClass:"col col-auto p-0 m-0"},[n("Cell",{key:i+":"+t,attrs:{row:i,column:t}})],1)}),0)}),e.game_over?n("div",{staticClass:"mt-5"},[n("h3",[e._v("GAME OVER!")]),n("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.init(t)}}},[e._v("Try Again")])]):e._e()],2)])},d=[],f=i("d225"),_=i("b0b4"),p=i("308d"),v=i("6bb5"),m=i("4e2b"),h=i("9ab4"),b=i("60a3"),y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"minefield-cell",class:{flagged:e.cell_obj.is_flagged,"reveal-mine":e.reveal_mine,"exploded-mine":e.is_mine_exploded},on:{click:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:e.clickCell(t)},contextmenu:function(t){return t.preventDefault(),e.toggleFlag(t)}}})},k=[],j=(i("c5f6"),i("4bb5")),O=Object(j["a"])("Minefield"),w=function(e){function t(){return Object(f["a"])(this,t),Object(p["a"])(this,Object(v["a"])(t).apply(this,arguments))}return Object(m["a"])(t,e),Object(_["a"])(t,[{key:"clickCell",value:function(){this.triggerCell(this.coordinates)}},{key:"toggleFlag",value:function(){this.toggleCellFlag(this.coordinates)}},{key:"cell_obj",get:function(){return this.cellByIndex(this.row,this.column)}},{key:"coordinates",get:function(){return{row_i:this.row,col_i:this.column}}},{key:"has_mine",get:function(){return!!this.cell_obj.mine}},{key:"is_mine_exploded",get:function(){return!(!this.cell_obj.mine||!this.cell_obj.mine.is_triggered)}},{key:"reveal_mine",get:function(){return this.has_mine&&this.game_over}}]),t}(b["c"]);h["a"]([Object(b["b"])({required:!0,type:Number,default:0})],w.prototype,"row",void 0),h["a"]([Object(b["b"])({required:!0,type:Number,default:0})],w.prototype,"column",void 0),h["a"]([O.Getter],w.prototype,"cellByIndex",void 0),h["a"]([O.Getter],w.prototype,"game_over",void 0),h["a"]([O.Action],w.prototype,"triggerCell",void 0),h["a"]([O.Mutation],w.prototype,"toggleCellFlag",void 0),w=h["a"]([b["a"]],w);var C=w,x=C,M=(i("d2e3"),Object(o["a"])(x,y,k,!1,null,"dfaebde6",null)),F=M.exports,A=Object(j["a"])("Minefield"),E=function(e){function t(){return Object(f["a"])(this,t),Object(p["a"])(this,Object(v["a"])(t).apply(this,arguments))}return Object(m["a"])(t,e),Object(_["a"])(t,[{key:"mounted",value:function(){this.init()}}]),t}(b["c"]);h["a"]([A.Getter],E.prototype,"grid",void 0),h["a"]([A.Getter],E.prototype,"game_over",void 0),h["a"]([A.Action],E.prototype,"init",void 0),E=h["a"]([Object(b["a"])({components:{Cell:F}})],E);var G=E,I=G,S=(i("21bb"),Object(o["a"])(I,g,d,!1,null,null,null)),P=S.exports;n["a"].use(u["a"]);var z=new u["a"]({mode:"history",base:"/vue-typescript-minesweeper/",routes:[{path:"/",name:"home",component:P}]}),T=i("2f62"),L=i("6fc5"),N=i("2ef0"),D={get:N["get"]},R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(f["a"])(this,e),this.__is_flagged=!1,this.is_flagged=D.get(t,"is_flagged",!1),this.mine=D.get(t,"mine",void 0)}return Object(_["a"])(e,[{key:"toggleFlag",value:function(){this.is_flagged=!this.is_flagged}},{key:"is_flagged",get:function(){return this.__is_flagged},set:function(e){this.__is_flagged=e}},{key:"mine",get:function(){return this.__mine},set:function(e){this.__mine=e}}]),e}(),$={get:N["get"]},B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(f["a"])(this,e),this.__is_disarmed=!1,this.__is_triggered=!1,this.is_disarmed=$.get(t,"is_disarmed",!1),this.is_triggered=$.get(t,"is_triggered",!1)}return Object(_["a"])(e,[{key:"explode",value:function(){this.is_triggered=!0}},{key:"is_disarmed",get:function(){return this.__is_disarmed},set:function(e){this.__is_disarmed=e}},{key:"is_triggered",get:function(){return this.__is_triggered},set:function(e){this.__is_triggered=e}}]),e}(),q={random:N["random"]},J=function(e){function t(){var e;return Object(f["a"])(this,t),e=Object(p["a"])(this,Object(v["a"])(t).apply(this,arguments)),e.__grid=[[new R]],e.__flags_available=0,e.__mine_limit=0,e}return Object(m["a"])(t,e),Object(_["a"])(t,[{key:"init",value:function(){for(var e=this.context,t=e.rootState,i=e.commit,n=e.dispatch,r=t.grid_sizes,a=t.selected_grid_size,o=r[a],l=[],s=0;s<o;s++){for(var c=[],u=0;u<o;u++){var g=new R;c.push(g)}l.push(c)}n("placeMines",l).then(function(e){l=e,i("setGrid",l)})}},{key:"triggerCell",value:function(e){var t=this.context,i=t.commit,n=(t.getters,e.row_i),r=e.col_i,a=new R(this.__grid[n][r]);a.is_flagged||a.mine&&i("triggerMine",e)}},{key:"decrementFlagsAvailable",value:function(){this.__flags_available--}},{key:"increaseFlagsAvailable",value:function(){this.__flags_available++}},{key:"setFlagsAvailable",value:function(e){this.__flags_available=e}},{key:"setMineCount",value:function(e){this.__mine_limit=e}},{key:"setGrid",value:function(e){this.__grid=e}},{key:"toggleCellFlag",value:function(e){var t=e.row_i,i=e.col_i,n=new R(this.__grid[t][i]);n.toggleFlag(),this.__grid[t].splice(i,1,n)}},{key:"triggerMine",value:function(e){var t=e.row_i,i=e.col_i,n=new R(this.__grid[t][i]);n.mine&&n.mine.explode(),this.__grid[t].splice(i,1,n)}},{key:"placeMines",value:function(e){var t=this.context,i=t.rootState,n=t.commit,r=i.grid_sizes,a=i.selected_grid_size,o=i.difficulty_ratios,l=i.selected_difficulty,s=r[a],c=o[l];return new Promise(function(t){var i=Math.ceil(Math.pow(s,2)*c),r=i;n("setFlagsAvailable",r),n("setMineCount",i);var a=0;while(a<i){var o=q.random(0,s-1),l=q.random(0,s-1),u=e[o][l];u.mine||(u.mine=new B,a++)}t(e)})}},{key:"cellByIndex",get:function(){var e=this;return function(t,i){return e.grid[t][i]}}},{key:"game_over",get:function(){return this.__grid.some(function(e){return e.some(function(e){var t=e.mine;return t&&t.is_triggered})})}},{key:"grid",get:function(){return this.__grid}},{key:"mine_limit",get:function(){return this.__mine_limit}},{key:"flags_available",get:function(){return this.__flags_available}}]),t}(L["d"]);h["a"]([L["a"]],J.prototype,"init",null),h["a"]([L["a"]],J.prototype,"triggerCell",null),h["a"]([L["c"]],J.prototype,"decrementFlagsAvailable",null),h["a"]([L["c"]],J.prototype,"increaseFlagsAvailable",null),h["a"]([L["c"]],J.prototype,"setFlagsAvailable",null),h["a"]([L["c"]],J.prototype,"setMineCount",null),h["a"]([L["c"]],J.prototype,"setGrid",null),h["a"]([L["c"]],J.prototype,"toggleCellFlag",null),h["a"]([L["c"]],J.prototype,"triggerMine",null),h["a"]([L["a"]],J.prototype,"placeMines",null),J=h["a"]([Object(L["b"])({namespaced:!0})],J);var V=J;n["a"].use(T["a"]);var Y=new T["a"].Store({modules:{Minefield:V},state:{difficulty_ratios:{easy:.15,medium:.25,hard:.35},game_states:{initializing:"INITIALIZING",ready:"READY",in_progress:"IN_PROGRESS",complete:"COMPLETE",failed:"FAILED"},grid_sizes:{small:9,medium:16,large:32},selected_difficulty:"easy",selected_grid_size:"small"}});n["a"].config.productionTip=!1,new n["a"]({router:z,store:Y,render:function(e){return e(c)}}).$mount("#app")},cf05:function(e,t,i){e.exports=i.p+"img/logo.82b9c7a5.png"},d2e3:function(e,t,i){"use strict";var n=i("914b"),r=i.n(n);r.a}});